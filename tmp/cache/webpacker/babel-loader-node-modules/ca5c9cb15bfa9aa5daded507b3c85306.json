{"ast":null,"code":"var _jsxFileName = \"/home/umar/devbox/crud-rails-react/app/javascript/components/Brand/index.jsx\";\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (typeof call === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport { Table, message, Popconfirm } from \"antd\";\nimport React from \"react\";\nimport AddBeerModal from \"../AddBeerModal\";\n\nvar Beers = /*#__PURE__*/function (_React$Component) {\n  _inherits(Beers, _React$Component);\n\n  var _super = _createSuper(Beers);\n\n  function Beers() {\n    var _this;\n\n    _classCallCheck(this, Beers);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.columns = [{\n      title: \"Brand\",\n      dataIndex: \"name\",\n      key: \"brand\"\n    }, {\n      title: \"Country\",\n      dataIndex: \"country\",\n      key: \"country\"\n    }, {\n      title: \"Description\",\n      dataIndex: \"description\",\n      key: \"description\"\n    }, {\n      title: \"\",\n      key: \"action\",\n      render: function render(_text, record) {\n        return /*#__PURE__*/React.createElement(Popconfirm, {\n          title: \"Are you sure delete this beer?\",\n          onConfirm: function onConfirm() {\n            return _this.deleteBeer(record.id);\n          },\n          okText: \"Yes\",\n          cancelText: \"No\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 27,\n            columnNumber: 5\n          }\n        }, /*#__PURE__*/React.createElement(\"a\", {\n          href: \"#\",\n          type: \"danger\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 6\n          }\n        }, \"Delete\", \" \"));\n      }\n    }];\n    _this.state = {\n      beers: []\n    };\n\n    _this.loadBeers = function () {\n      var url = \"api/v1/brands\";\n      fetch(url).then(function (data) {\n        if (data.ok) {\n          return data.json();\n        }\n\n        throw new Error(\"Network error.\");\n      }).then(function (data) {\n        data.forEach(function (beer) {\n          var newEl = {\n            key: beer.id,\n            id: beer.id,\n            name: beer.name,\n            country: beer.country,\n            description: beer.description\n          };\n\n          _this.setState(function (prevState) {\n            return {\n              beers: [].concat(_toConsumableArray(prevState.beers), [newEl])\n            };\n          });\n        });\n      })[\"catch\"](function (err) {\n        return message.error(\"Error: \" + err);\n      });\n    };\n\n    _this.reloadBeers = function () {\n      _this.setState({\n        beers: []\n      });\n\n      _this.loadBeers();\n    };\n\n    _this.deleteBeer = function (id) {\n      var url = \"api/v1/brands/\".concat(id);\n      fetch(url, {\n        method: \"delete\"\n      }).then(function (data) {\n        if (data.ok) {\n          _this.reloadBeers();\n\n          return data.json();\n        }\n\n        throw new Error(\"Network error.\");\n      })[\"catch\"](function (err) {\n        return message.error(\"Error: \" + err);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Beers, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadBeers();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Table, {\n        className: \"table-striped-rows\",\n        dataSource: this.state.beers,\n        columns: this.columns,\n        pagination: {\n          pageSize: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 5\n        }\n      }), /*#__PURE__*/React.createElement(AddBeerModal, {\n        reloadBeers: this.reloadBeers,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 5\n        }\n      }));\n    }\n  }]);\n\n  return Beers;\n}(React.Component);\n\nexport default Beers;","map":{"version":3,"sources":["/home/umar/devbox/crud-rails-react/app/javascript/components/Brand/index.jsx"],"names":["Table","message","Popconfirm","React","AddBeerModal","Beers","columns","title","dataIndex","key","render","_text","record","deleteBeer","id","state","beers","loadBeers","url","fetch","then","data","ok","json","Error","forEach","beer","newEl","name","country","description","setState","prevState","err","error","reloadBeers","method","pageSize","Component"],"mappings":"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","sourcesContent":["import { Table, message, Popconfirm } from \"antd\";\nimport React from \"react\";\nimport AddBeerModal from \"../AddBeerModal\";\n\nclass Beers extends React.Component {\n\tcolumns = [\n\t\t{\n\t\t\ttitle: \"Brand\",\n\t\t\tdataIndex: \"name\",\n\t\t\tkey: \"brand\",\n\t\t},\n\t\n\t\t{\n\t\t\ttitle: \"Country\",\n\t\t\tdataIndex: \"country\",\n\t\t\tkey: \"country\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"Description\",\n\t\t\tdataIndex: \"description\",\n\t\t\tkey: \"description\",\n\t\t},\n\t\t{\n\t\t\ttitle: \"\",\n\t\t\tkey: \"action\",\n\t\t\trender: (_text, record) => (\n\t\t\t\t<Popconfirm\n\t\t\t\t\ttitle=\"Are you sure delete this beer?\"\n\t\t\t\t\tonConfirm={() => this.deleteBeer(record.id)}\n\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\tcancelText=\"No\"\n\t\t\t\t>\n\t\t\t\t\t<a href=\"#\" type=\"danger\">\n\t\t\t\t\t\tDelete{\" \"}\n\t\t\t\t\t</a>\n\t\t\t\t</Popconfirm>\n\t\t\t),\n\t\t},\n\t];\n\n\tstate = {\n\t\tbeers: [],\n\t};\n\n\tcomponentDidMount() {\n\t\tthis.loadBeers();\n\t}\n\n\tloadBeers = () => {\n\t\tconst url = \"api/v1/brands\";\n\t\tfetch(url)\n\t\t\t.then((data) => {\n\t\t\t\tif (data.ok) {\n\t\t\t\t\treturn data.json();\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Network error.\");\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tdata.forEach((beer) => {\n\t\t\t\t\tconst newEl = {\n\t\t\t\t\t\tkey: beer.id,\n\t\t\t\t\t\tid: beer.id,\n\t\t\t\t\t\tname: beer.name,\n\t\t\t\t\t\tcountry: beer.country,\n\t\t\t\t\t\tdescription: beer.description,\n\t\t\t\t\t};\n\n\t\t\t\t\tthis.setState((prevState) => ({\n\t\t\t\t\t\tbeers: [...prevState.beers, newEl],\n\t\t\t\t\t}));\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((err) => message.error(\"Error: \" + err));\n\t};\n\n\treloadBeers = () => {\n\t\tthis.setState({ beers: [] });\n\t\tthis.loadBeers();\n\t};\n\n\tdeleteBeer = (id) => {\n\t\tconst url = `api/v1/brands/${id}`;\n\n\t\tfetch(url, {\n\t\t\tmethod: \"delete\",\n\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tif (data.ok) {\n\t\t\t\t\tthis.reloadBeers();\n\t\t\t\t\treturn data.json();\n\t\t\t\t}\n\t\t\t\tthrow new Error(\"Network error.\");\n\t\t\t})\n\t\t\t.catch((err) => message.error(\"Error: \" + err));\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Table\n\t\t\t\t\tclassName=\"table-striped-rows\"\n\t\t\t\t\tdataSource={this.state.beers}\n\t\t\t\t\tcolumns={this.columns}\n\t\t\t\t\tpagination={{ pageSize: 5 }}\n\t\t\t\t/>\n\n\t\t\t\t<AddBeerModal reloadBeers={this.reloadBeers} />\n\t\t\t</>\n\t\t);\n\t}\n}\n\nexport default Beers;\n"]},"metadata":{},"sourceType":"module"}