<style>
  .category-name-background{
    background: white;
  }

  .taxon-children{
    border: 1px solid lightgray;
    border-radius: 25px;
    font-size: 1.2em;
    margin-right: 7px;
    text-decoration: none;
    color: #565656;
    font-weight: 500;
  }
  .taxon-children:hover{
    background: orange;
    color: darkblue;
  }

  .related-text{
    font-size: 1.3em;
    font-weight: 300;
  }
  .side-border{
    border-radius: 5px;
  }
  .side-margin{
    margin: 0px 15px;
  }
@media screen and (max-width: 899px){
  .side-margin{
    margin-bottom: 30px;
  }
}


</style>

<div class="container-fluid category-name-background shadow-sm m-0 px-0 py-5 ">
  <div class="d-flex justify-content-center">
    <div><h1 class="products__taxon-title"><%= @taxon.name %></h1></div>
  </div>
  <div class="d-flex justify-content-center">
  <%= render BreadcrumbsComponent.new(@taxon) %>
  </div>
  <% taxon_childrens = @taxon.children.all %>
  <% if taxon_childrens.size > 0%>
    <div class="d-flex justify-content-center mt-4">
      <div class="d-flex">
        <div class="related-text px-3 py-2">Related:</div>
        <% taxon_childrens.each do |taxon| %>
          <% taxon_permalink = taxon&.permalink%>
          <%= link_to taxon_permalink, class:"taxon-children " do %>
            <div class="px-4 py-2 mr-2"><%= taxon.name %></div>
          <% end %>  
        <% end %>
      </div>
    </div>
  <% end %>  
</div>
<div class="products" style="padding: 4rem 0rem !important;">
  <aside class="bg-white side-margin side-border h-100 mr-3">
    <div class="pt-4 pb-2 px-3">
      <span class="h5">Filter</span>
    </div>
    <hr style="color: #a39c9c;">
    <%= render 'shared/navigation/taxonomies', taxon: @taxon %>
    <%= render 'shared/search/filters', taxon: @taxon %>
  </aside>
  <section>
    <%= render 'products/products_grid', products: @products, taxon: @taxon %>
  </section> 
</div>

